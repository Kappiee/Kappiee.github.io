# 4-3. 展开运算符

使用方式：`...要展开的东西`

```js
/**
 * 对所有数字求和
 * @param  {...any} args 
 */
function sum(...args) {
    let sum = 0;
    for ( let i = 0; i < args.length; i++ ) {
        sum += args[ i ];
    }
    return sum;
}

/**
 * 获取一个指定长度的随机数组成的数组
 * @param {*} length 
 */
function getRandomNumbers( length ) {
    const arr = [];
    for ( let i = 0; i < length; i++ ) {
        arr.push( Math.random() );
    }
    return arr;
}

const numbers = getRandomNumbers( 10 );
//将数组的每一项展开，依次作为参数传递，而不是把整个数组作为一个参数传递
// sum(numbers)

console.log( sum( ...numbers ) )//相当于传递了10个参数
console.log( sum( 1, 3, ...numbers, 3, 5 ) )
```

## 对数组展开 ES6

```js
const arr1 = [ 3, 67, 8, 5 ];

//克隆arr1数组到arr2

const arr2 = [ 0, ...arr1, 1 ];

console.log( arr2, arr1 === arr2 )
```

## 对对象展开 ES7

```js
const obj1 = {
    name: "成哥",
    age: 18,
    loves: [ "邓嫂", "成嫂1", "成嫂2" ],
    address: {
        country: "中国",
        province: "黑龙江",
        city: "哈尔滨"
    }
}

// 浅克隆到obj2
const obj2 = {
    ...obj1,
    name: "邓哥",
    address: {
        ...obj1.address
    },
    loves: [ ...obj1.loves, "成嫂3" ]
};

console.log( obj2 )

console.log( obj1.loves === obj2.loves )
```

## 柯里化示例

```js
function log( date,importance,message ) {
    console.log( `[${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}] [${importance}] ${message}` );
}

function curry( func,...args ) {
    return function( ...subArgs ) {
        const allArgs = [ ...args,...subArgs ];
        if( allArgs.length >= func.length ) {
            return func( ...allArgs );
        }else{
            curry( func,...allArgs );
        }
    }
}
const myLog = curry( log,new Date() )

const errorLog = curry( myLog,"error" );
const warnLog = curry( myLog,"warn" );
const infoLog = curry( myLog,"info" );

errorLog( "error message" );
warnLog( "warn message" );
infoLog( "info message" );
```
